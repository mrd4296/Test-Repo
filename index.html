<!DOCTYPE html>
<html>
<head>
    <title>Audio Example</title>
</head>
<body>
    <audio id="audio-player" controls>
        <source src="https://download.samplelib.com/mp3/sample-15s.mp3" type="audio/mpeg">
    </audio>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const audio = document.getElementById("audio-player");
            if (audio && document.visibilityState === "visible") {
                // Force play to ensure audio starts even if autoplay is blocked
                audio.play().then(() => {
                    console.log("Audio playback started successfully.");
                }).catch(error => {
                    console.error("Audio playback error:", error);
                });
            }
        });
        document.addEventListener("visibilitychange", event => {
            const audio = document.getElementById("audio-player");
              if (document.visibilityState === "visible") {
                  audio.play().then(() => {
                    console.log("Audio playback started successfully.");
                }).catch(error => {
                    console.error("Audio playback error:", error);
                });
              } else {
                audio && audio.pause();
              }
        })
    </script>
</body>
</html>
